import"../chunks/NZTpNUN0.js";import{l as Pe,i as Wt,c as Qt,d as _t,a as Zt,n as ea,b as ta,e as aa,s as P,o as ra,r as sa}from"../chunks/C7LwJDfV.js";import{a5 as je,ax as mt,ay as ia,af as na,b as He,az as gt,i as Ee,h as L,$ as oa,d as la,o as l,x as fa,r as ca,e as ua,g as rt,j as ie,m as ee,a7 as va,aa as da,k as bt,l as we,p as pa,aA as Ce,ad as yt,_ as ha,v as st,aB as ze,aC as it,aD as Be,at as _a,aE as nt,aF as ma,aG as ga,a0 as ba,aH as ya,aI as be,aJ as wa,a8 as Sa,ar as Fe,aK as xa,aL as ka,aM as $a,w as Aa,aN as Ta,aO as Ia,aP as Ma,aQ as Ea,aR as Ca,aS as Na,y as wt,as as St,T as z,s as xt,a as I,X as w,Y as y,R as kt,W as $t,aT as oe,V as Y,Z as g,c as At,f as pe,au as U,q as ue,K as te,t as O,aU as ae,aw as ve}from"../chunks/Bro2NGxz.js";import{p as La,r as le,i as he}from"../chunks/DbdvKteP.js";const Da=[];function Oa(e,t=!1){return _e(e,new Map,"",Da)}function _e(e,t,a,r,s=null){if(typeof e=="object"&&e!==null){var i=t.get(e);if(i!==void 0)return i;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(je(e)){var n=Array(e.length);t.set(e,n),s!==null&&t.set(s,n);for(var o=0;o<e.length;o+=1){var p=e[o];o in e&&(n[o]=_e(p,t,a,r))}return n}if(mt(e)===ia){n={},t.set(e,n),s!==null&&t.set(s,n);for(var u in e)n[u]=_e(e[u],t,a,r);return n}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return _e(e.toJSON(),t,a,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function ot(e,t){return t}function Ra(e,t,a,r){for(var s=[],i=t.length,n=0;n<i;n++)ga(t[n].e,s,!0);var o=i>0&&s.length===0&&a!==null;if(o){var p=a.parentNode;ba(p),p.append(a),r.clear(),V(e,t[0].prev,t[i-1].next)}ya(s,()=>{for(var u=0;u<i;u++){var b=t[u];o||(r.delete(b.k),V(e,b.prev,b.next)),be(b.e,!o)}})}function lt(e,t,a,r,s,i=null){var n=e,o={flags:t,items:new Map,first:null},p=(t&gt)!==0;if(p){var u=e;n=L?Ee(oa(u)):u.appendChild(na())}L&&la();var b=null,$=!1,f=fa(()=>{var S=a();return je(S)?S:S==null?[]:yt(S)});He(()=>{var S=l(f),d=S.length;if($&&d===0)return;$=d===0;let x=!1;if(L){var M=ca(n)===ua;M!==(d===0)&&(n=rt(),Ee(n),ie(!1),x=!0)}if(L){for(var A=null,C,_=0;_<d;_++){if(ee.nodeType===va&&ee.data===da){n=ee,x=!0,ie(!1);break}var c=S[_],h=r(c,_);C=Tt(ee,o,A,null,c,h,_,s,t,a),o.items.set(h,C),A=C}d>0&&Ee(rt())}L||Pa(S,o,n,s,t,r,a),i!==null&&(d===0?b?bt(b):b=we(()=>i(n)):b!==null&&pa(b,()=>{b=null})),x&&ie(!0),l(f)}),L&&(n=ee)}function Pa(e,t,a,r,s,i,n){var o=(s&ma)!==0,p=(s&(ze|Be))!==0,u=e.length,b=t.items,$=t.first,f=$,S,d=null,x,M=[],A=[],C,_,c,h;if(o)for(h=0;h<u;h+=1)C=e[h],_=i(C,h),c=b.get(_),c!==void 0&&(c.a?.measure(),(x??=new Set).add(c));for(h=0;h<u;h+=1){if(C=e[h],_=i(C,h),c=b.get(_),c===void 0){var R=f?f.e.nodes_start:a;d=Tt(R,t,d,d===null?t.first:d.next,C,_,h,r,s,n),b.set(_,d),M=[],A=[],f=d.next;continue}if(p&&ja(c,C,h,s),(c.e.f&Ce)!==0&&(bt(c.e),o&&(c.a?.unfix(),(x??=new Set).delete(c))),c!==f){if(S!==void 0&&S.has(c)){if(M.length<A.length){var T=A[0],D;d=T.prev;var K=M[0],J=M[M.length-1];for(D=0;D<M.length;D+=1)ft(M[D],T,a);for(D=0;D<A.length;D+=1)S.delete(A[D]);V(t,K.prev,J.next),V(t,d,K),V(t,J,T),f=T,d=J,h-=1,M=[],A=[]}else S.delete(c),ft(c,f,a),V(t,c.prev,c.next),V(t,c,d===null?t.first:d.next),V(t,d,c),d=c;continue}for(M=[],A=[];f!==null&&f.k!==_;)(f.e.f&Ce)===0&&(S??=new Set).add(f),A.push(f),f=f.next;if(f===null)continue;c=f}M.push(c),d=c,f=c.next}if(f!==null||S!==void 0){for(var j=S===void 0?[]:yt(S);f!==null;)(f.e.f&Ce)===0&&j.push(f),f=f.next;var W=j.length;if(W>0){var Q=(s&gt)!==0&&u===0?a:null;if(o){for(h=0;h<W;h+=1)j[h].a?.measure();for(h=0;h<W;h+=1)j[h].a?.fix()}Ra(t,j,Q,b)}}o&&ha(()=>{if(x!==void 0)for(c of x)c.a?.apply()}),st.first=t.first&&t.first.e,st.last=d&&d.e}function ja(e,t,a,r){(r&ze)!==0&&it(e.v,t),(r&Be)!==0?it(e.i,a):e.i=a}function Tt(e,t,a,r,s,i,n,o,p,u){var b=(p&ze)!==0,$=(p&wa)===0,f=b?$?_a(s,!1,!1):nt(s):s,S=(p&Be)===0?n:nt(n),d={i:S,v:f,k:i,a:null,e:null,prev:a,next:r};try{return d.e=we(()=>o(e,f,S,u),L),d.e.prev=a&&a.e,d.e.next=r&&r.e,a===null?t.first=d:(a.next=d,a.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function ft(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,s=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==r;){var n=Sa(i);s.before(i),i=n}}function V(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function Ha(e,t){var a=void 0,r;He(()=>{a!==(a=t())&&(r&&(be(r),r=null),a&&(r=we(()=>{Fe(()=>a(e))})))})}function It(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=It(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function za(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=It(e))&&(r&&(r+=" "),r+=t);return r}function Ba(e){return typeof e=="object"?za(e):e??""}const ct=[...` 	
\r\fÂ \v\uFEFF`];function Fa(e,t,a){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),a){for(var s in a)if(a[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,n=0;(n=r.indexOf(s,n))>=0;){var o=n+i;(n===0||ct.includes(r[n-1]))&&(o===r.length||ct.includes(r[o]))?r=(n===0?"":r.substring(0,n))+r.substring(o+1):n=o}}return r===""?null:r}function ut(e,t=!1){var a=t?" !important;":";",r="";for(var s in e){var i=e[s];i!=null&&i!==""&&(r+=" "+s+": "+i+a)}return r}function Ne(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Va(e,t){if(t){var a="",r,s;if(Array.isArray(t)?(r=t[0],s=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,n=0,o=!1,p=[];r&&p.push(...Object.keys(r).map(Ne)),s&&p.push(...Object.keys(s).map(Ne));var u=0,b=-1;const x=e.length;for(var $=0;$<x;$++){var f=e[$];if(o?f==="/"&&e[$-1]==="*"&&(o=!1):i?i===f&&(i=!1):f==="/"&&e[$+1]==="*"?o=!0:f==='"'||f==="'"?i=f:f==="("?n++:f===")"&&n--,!o&&i===!1&&n===0){if(f===":"&&b===-1)b=$;else if(f===";"||$===x-1){if(b!==-1){var S=Ne(e.substring(u,b).trim());if(!p.includes(S)){f!==";"&&$++;var d=e.substring(u,$).trim();a+=" "+d+";"}}u=$+1,b=-1}}}}return r&&(a+=ut(r)),s&&(a+=ut(s,!0)),a=a.trim(),a===""?null:a}return e==null?null:String(e)}function Mt(e,t,a,r,s,i){var n=e.__className;if(L||n!==a||n===void 0){var o=Fa(a,r,i);(!L||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o)),e.__className=a}else if(i&&s!==i)for(var p in i){var u=!!i[p];(s==null||u!==!!s[p])&&e.classList.toggle(p,u)}return i}function Le(e,t={},a,r){for(var s in a){var i=a[s];t[s]!==i&&(a[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,r))}}function Ja(e,t,a,r){var s=e.__style;if(L||s!==t){var i=Va(t,r);(!L||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}else r&&(Array.isArray(r)?(Le(e,a?.[0],r[0]),Le(e,a?.[1],r[1],"important")):Le(e,a,r));return r}function ye(e,t,a=!1){if(e.multiple){if(t==null)return;if(!je(t))return ka();for(var r of e.options)r.selected=t.includes(ne(r));return}for(r of e.options){var s=ne(r);if($a(s,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function Et(e){var t=new MutationObserver(()=>{ye(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),xa(()=>{t.disconnect()})}function qa(e,t,a=t){var r=!0;Pe(e,"change",s=>{var i=s?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(i),ne);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");n=o&&ne(o)}a(n)}),Fe(()=>{var s=t();if(ye(e,s,r),r&&s===void 0){var i=e.querySelector(":checked");i!==null&&(s=ne(i),a(s))}e.__value=s,r=!1}),Et(e)}function ne(e){return"__value"in e?e.__value:e.value}const re=Symbol("class"),se=Symbol("style"),Ct=Symbol("is custom element"),Nt=Symbol("is html");function me(e){if(L){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;B(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;B(e,"checked",null),e.checked=s}}};e.__on_r=a,Ma(a),ta()}}function Ua(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function B(e,t,a,r){var s=Lt(e);L&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=a)&&(t==="loading"&&(e[Ea]=a),a==null?e.removeAttribute(t):typeof a!="string"&&Dt(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Ya(e,t,a,r,s=!1){var i=Lt(e),n=i[Ct],o=!i[Nt];let p=L&&n;p&&ie(!1);var u=t||{},b=e.tagName==="OPTION";for(var $ in t)$ in a||(a[$]=null);a.class?a.class=Ba(a.class):a[re]&&(a.class=null),a[se]&&(a.style??=null);var f=Dt(e);for(const _ in a){let c=a[_];if(b&&_==="value"&&c==null){e.value=e.__value="",u[_]=c;continue}if(_==="class"){var S=e.namespaceURI==="http://www.w3.org/1999/xhtml";Mt(e,S,c,r,t?.[re],a[re]),u[_]=c,u[re]=a[re];continue}if(_==="style"){Ja(e,c,t?.[se],a[se]),u[_]=c,u[se]=a[se];continue}var d=u[_];if(!(c===d&&!(c===void 0&&e.hasAttribute(_)))){u[_]=c;var x=_[0]+_[1];if(x!=="$$")if(x==="on"){const h={},R="$$"+_;let T=_.slice(2);var M=aa(T);if(Wt(T)&&(T=T.slice(0,-7),h.capture=!0),!M&&d){if(c!=null)continue;e.removeEventListener(T,u[R],h),u[R]=null}if(c!=null)if(M)e[`__${T}`]=c,_t([T]);else{let D=function(K){u[_].call(this,K)};u[R]=Qt(T,e,D,h)}else M&&(e[`__${T}`]=void 0)}else if(_==="style")B(e,_,c);else if(_==="autofocus")Zt(e,!!c);else if(!n&&(_==="__value"||_==="value"&&c!=null))e.value=e.__value=c;else if(_==="selected"&&b)Ua(e,c);else{var A=_;o||(A=ea(A));var C=A==="defaultValue"||A==="defaultChecked";if(c==null&&!n&&!C)if(i[_]=null,A==="value"||A==="checked"){let h=e;const R=t===void 0;if(A==="value"){let T=h.defaultValue;h.removeAttribute(A),h.defaultValue=T,h.value=h.__value=R?T:null}else{let T=h.defaultChecked;h.removeAttribute(A),h.defaultChecked=T,h.checked=R?T:!1}}else e.removeAttribute(_);else C||f.includes(A)&&(n||typeof c!="string")?e[A]=c:typeof c!="function"&&B(e,A,c)}}}return p&&ie(!0),u}function G(e,t,a=[],r,s=!1,i=Aa){const n=a.map(i);var o=void 0,p={},u=e.nodeName==="SELECT",b=!1;if(He(()=>{var f=t(...n.map(l)),S=Ya(e,o,f,r,s);b&&u&&"value"in f&&ye(e,f.value);for(let x of Object.getOwnPropertySymbols(p))f[x]||be(p[x]);for(let x of Object.getOwnPropertySymbols(f)){var d=f[x];x.description===Ia&&(!o||d!==o[x])&&(p[x]&&be(p[x]),p[x]=we(()=>Ha(e,()=>d))),S[x]=d}o=S}),u){var $=e;Fe(()=>{ye($,o.value,!0),Et($)})}b=!0}function Lt(e){return e.__attributes??={[Ct]:e.nodeName.includes("-"),[Nt]:e.namespaceURI===Ta}}var vt=new Map;function Dt(e){var t=vt.get(e.nodeName);if(t)return t;vt.set(e.nodeName,t=[]);for(var a,r=e,s=Element.prototype;s!==r;){a=Ca(r);for(var i in a)a[i].set&&t.push(i);r=mt(r)}return t}function ge(e,t,a=t){var r=Na();Pe(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=De(e)?Oe(i):i,a(i),r&&i!==(i=t())){var n=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length))}}),(L&&e.defaultValue!==e.value||wt(t)==null&&e.value)&&a(De(e)?Oe(e.value):e.value),St(()=>{var s=t();De(e)&&s===Oe(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ga(e,t,a=t){Pe(e,"change",r=>{var s=r?e.defaultChecked:e.checked;a(s)}),(L&&e.defaultChecked!==e.checked||wt(t)==null)&&a(e.checked),St(()=>{var r=t();e.checked=!!r})}function De(e){var t=e.type;return t==="number"||t==="range"}function Oe(e){return e===""?null:+e}const Ka=[{id:1,name:"Hair Salon"},{id:2,name:"Law Firm"},{id:3,name:"Flower Shop"},{id:4,name:"Car Dealership"},{id:5,name:"Clothing Store"},{id:6,name:"Gun Shop"},{id:7,name:"Game Shop"},{id:8,name:"Candle Shop"},{id:9,name:"Toy Shop"},{id:10,name:"Adult Novelties"},{id:11,name:"Cyber Cafe"},{id:12,name:"Grocery Store"},{id:13,name:"Theater"},{id:14,name:"Sweet Shop"},{id:15,name:"Cruise Line"},{id:16,name:"Television Network"},{id:18,name:"Zoo"},{id:19,name:"Firework Stand"},{id:20,name:"Property Broker"},{id:21,name:"Furniture Store"},{id:22,name:"Gas Station"},{id:23,name:"Music Store"},{id:24,name:"Nightclub"},{id:25,name:"Pub"},{id:26,name:"Gents Strip Club"},{id:27,name:"Restaurant"},{id:28,name:"Oil Rig"},{id:29,name:"Fitness Center"},{id:30,name:"Mechanic Shop"},{id:31,name:"Amusement Park"},{id:32,name:"Lingerie Store"},{id:33,name:"Meat Warehouse"},{id:34,name:"Farm"},{id:35,name:"Software Corporation"},{id:36,name:"Ladies Strip Club"},{id:37,name:"Private Security Firm"},{id:38,name:"Mining Corporation"},{id:39,name:"Detective Agency"},{id:40,name:"Logistics Management"}],Ot=(e,t)=>{if(!e.lastMailed&&!t.lastMailed)return t.rating-e.rating;if(!e.lastMailed)return-1;if(!t.lastMailed)return 1;const a=new Date(e.lastMailed).getTime()-new Date(t.lastMailed).getTime();return a===0?t.rating-e.rating:a},Xa=async e=>{try{const t=await fetch(`https://api.torn.com/user/?selections=merits&key=${e}`),a=await fetch(`https://api.torn.com/user/?selections=workstats&key=${e}`),r=await t.json(),s=await a.json();return{ee:r.merits["Employee Effectiveness"]||0,man:s.manual_labor||0,int:s.intelligence||0,end:s.endurance||0}}catch(t){console.error("Error fetching stats:",t)}};var Wa=z("<button><!></button>");function de(e,t){var a=Wa();G(a,()=>({class:`font-semibold hover:cursor-pointer ${t.className}`,...t.props}));var r=w(a);xt(r,()=>t.children),y(a),I(e,a)}var Qa=z("<input/>");function dt(e,t){kt(t,!0);let a=La(t,"value",15);var r=Qa();me(r),G(r,()=>({class:"border-b-solid border-b-[1px] border-b-white",type:"text",...t.props})),ge(r,a),I(e,r),$t()}const Za=async(e,t,a=[])=>{try{const s=await(await fetch(`https://api.torn.com/company/${t}?selections=companies&key=${e}`)).json(),i=[];for(const[n,o]of Object.entries(s.company))i.push({id:Number(n),rating:o.rating,name:o.name,owner:o.director,lastMailed:null,employeesHired:o.employees_hired,employeesCapacity:o.employees_capacity,dailyIncome:o.daily_income,daysOld:o.days_old});for(const n of i)a.some(o=>o.id===n.id)||a.push(n);return a.sort(Ot),console.log(`Found ${i.length} companies.`),a}catch(r){return console.error("Error fetching companies:",r),a}},er=async(e,t,a=[])=>{const{companyType:r,minRating:s,maxRating:i,hasEmptySlots:n}=t,o=localStorage.getItem(`db-${t.companyType}-lastUpdate`);a=[];try{a=JSON.parse(localStorage.getItem(`db-${t.companyType}`)||"[]")}catch(p){console.error("Error parsing localStorage db:",p)}return(!o||Date.now()-new Date(o).getTime()>3*60*60*1e3||a.length===0)&&(a=await Za(e,r,a),localStorage.setItem(`db-${t.companyType}-lastUpdate`,new Date().toISOString()),localStorage.setItem(`db-${t.companyType}`,JSON.stringify(a))),a=a.filter(p=>!(s&&p.rating<s||i&&p.rating>i||n&&p.employeesHired>=p.employeesCapacity)),a};var tr=oe('<svg><path fill="currentColor" d="m15.07 11.25l-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2a2 2 0 0 0-2 2H8a4 4 0 0 1 4-4a4 4 0 0 1 4 4a3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"></path></svg>');function ar(e,t){const a=le(t,["$$slots","$$events","$$legacy"]);var r=tr();G(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),I(e,r)}var rr=z('<span class="tooltip relative svelte-1ykxs90"><!> <span class="tooltip-text invisible absolute z-10 w-30 rounded-md bg-[#808080] p-1 text-center text-[1rem] text-white svelte-1ykxs90"><p> </p></span></span>');function pt(e,t){var a=rr(),r=w(a);{var s=u=>{var b=At(),$=pe(b);xt($,()=>t.children),I(u,b)},i=u=>{ar(u,{})};he(r,u=>{t.children?u(s):u(i,!1)})}var n=g(r,2),o=w(n),p=w(o,!0);y(o),y(n),y(a),Y(()=>P(p,t.text)),I(e,a)}var sr=oe('<svg><path fill="currentColor" d="M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"></path></svg>');function ir(e,t){const a=le(t,["$$slots","$$events","$$legacy"]);var r=sr();G(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),I(e,r)}var nr=oe('<svg><path fill="currentColor" d="M11.83 9L15 12.16V12a3 3 0 0 0-3-3zm-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7"></path></svg>');function or(e,t){const a=le(t,["$$slots","$$events","$$legacy"]);var r=nr();G(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),I(e,r)}var lr=oe('<svg><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21z"></path></svg>');function Re(e,t){const a=le(t,["$$slots","$$events","$$legacy"]);var r=lr();G(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),I(e,r)}var fr=oe('<svg><path fill="currentColor" d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"></path></svg>');function ht(e,t){const a=le(t,["$$slots","$$events","$$legacy"]);var r=fr();G(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),I(e,r)}var cr=(e,t)=>t("https://www.torn.com/preferences.php#tab=api"),ur=(e,t)=>{(e.key==="Enter"||e.key===" ")&&t("https://www.torn.com/preferences.php#tab=api")},vr=z('<span role="button" tabindex="0" class="font-medium hover:cursor-pointer hover:underline">minimal</span>'),dr=z('<option class="text-black"> </option>'),pr=(e,t)=>O(t,!l(t)),hr=(e,t)=>{(e.key==="Enter"||e.key===" ")&&O(t,!l(t))},_r=z(" <!>",1),mr=z(" <!>",1),gr=z('<p class="text-center text-2xl">Add API key, change config and press search to see companies</p>'),br=(e,t,a)=>t(`https://www.torn.com/joblist.php#/p=corpinfo&ID=${l(a).id}`),yr=(e,t,a)=>{(e.key==="Enter"||e.key===" ")&&t(`https://www.torn.com/joblist.php#/p=corpinfo&ID=${l(a).id}`)},wr=(e,t,a)=>t(`https://www.torn.com/profiles.php?XID=${l(a).owner}`),Sr=(e,t,a)=>{(e.key==="Enter"||e.key===" ")&&t(`https://www.torn.com/profiles.php?XID=${l(a).owner}`)},xr=z('<div class="mb-2 rounded-lg bg-[#303030] px-4 py-2"><h4 class="flex flex-row items-center gap-1 text-xl"><span role="button" tabindex="0" class="mr-4 hover:cursor-pointer hover:underline"><span class="font-medium"> </span> </span> <!></h4> <div class="flex flex-row gap-20"><div class="flex flex-col"><span role="button" tabindex="0" class="hover:cursor-pointer hover:underline"> </span> <p> </p></div> <div class="flex flex-col"><p> </p> <p>Last mailed: <!></p></div></div> <p> </p> <a class="mr-4 font-semibold hover:cursor-pointer hover:underline">Apply</a> <a class="mr-4 font-semibold hover:cursor-pointer hover:underline">Mail</a> <!></div>'),kr=z('<div class="flex h-full w-full flex-col"><div class="my-container flex flex-row items-center justify-between svelte-1gxb7fz"><h1 class="mr-4 text-2xl font-semibold">TornHire</h1> <span class="flex flex-row justify-center">Your API key(<!>): <!></span> <a class=" text-zinc-700" href="https://www.torn.com/profiles.php?XID=3718662">by Termained</a></div> <fieldset class="my-container flex flex-row flex-wrap gap-x-4 svelte-1gxb7fz"><legend class="svelte-1gxb7fz">Config</legend> <div>Company type: <select class="svelte-1gxb7fz"></select></div> <div>Min rating: <input type="number" min="0" class="svelte-1gxb7fz"/> <!></div> <div>Max rating: <input type="number" max="10" class="svelte-1gxb7fz"/><!></div> <div>Has empty slots: <input type="checkbox" class="svelte-1gxb7fz"/></div> <div class="mt-2 flex w-full flex-row items-center gap-2"><!></div></fieldset> <fieldset class="my-container svelte-1gxb7fz"><legend class="flex flex-row items-center gap-2 svelte-1gxb7fz">Message <span class="hover:cursor-pointer" role="button" tabindex="0"><!></span></legend> <div><!> <textarea class="mt-2 flex-1 p-1"></textarea></div> <div class="flex flex-row flex-wrap gap-1"><!> <!></div></fieldset> <fieldset class="my-container flex-1 overflow-y-scroll svelte-1gxb7fz"><legend class="svelte-1gxb7fz">Companies</legend> <div><!> <!></div></fieldset></div>');function Mr(e,t){kt(t,!0);let a=U(ue([])),r=U(""),s=U(!0),i=U(ue({minRating:0,maxRating:10,companyType:-1,hasEmptySlots:!0})),n=ue({subject:"",body:""}),o=U(ue({man:0,int:0,end:0,ee:0})),p=U(!1),u=U(!1);ra(()=>{const v=localStorage.getItem("apiKey"),m=localStorage.getItem("messageSubject"),k=localStorage.getItem("messageBody"),N=localStorage.getItem("stats"),E=localStorage.getItem("query");v&&O(r,v,!0),m&&(n.subject=m),k&&(n.body=k),N&&O(o,JSON.parse(N),!0),E&&O(i,JSON.parse(E),!0);const q=localStorage.getItem(`db-${l(i).companyType}`);O(a,JSON.parse(q||"[]"),!0)}),te(()=>{l(u)&&setTimeout(()=>{O(u,!1)},3e3),l(p)&&setTimeout(()=>{O(p,!1)},3e3)}),te(()=>{l(r)!=""&&localStorage.setItem("apiKey",l(r))}),te(()=>{n.subject!=""&&localStorage.setItem("messageSubject",n.subject),n.body!=""&&localStorage.setItem("messageBody",n.body)}),te(()=>{localStorage.setItem("stats",JSON.stringify(l(o)))}),te(()=>{localStorage.setItem("query",JSON.stringify(l(i)))});const b=v=>{navigator.clipboard.writeText(v).then(()=>{console.log("Text copied to clipboard:",v)}).catch(m=>{console.error("Failed to copy text:",m)})},$=()=>{let v=n.body;v=v.replace("{man}",l(o).man.toString()).replace("{int}",l(o).int.toString()).replace("{end}",l(o).end.toString()).replace("{ee}",l(o).ee.toString()).replaceAll(`
`,`

`),b(v)},f=v=>window.open(v,"_blank"),S=async()=>{if(l(r)===""){alert("Please enter your API key.");return}const v=await Xa(l(r));if(v)O(o,v,!0);else{alert("Failed to fetch stats. Please check your API key.");return}const m=await er(l(r),l(i),Oa(l(a)));if(m)O(a,m,!0);else{alert("Failed to fetch companies. Please check your API key and query parameters.");return}},d=v=>{const m=l(a).find(k=>k.id===v);m&&(m.lastMailed=new Date(new Date().toISOString().split("T")[0]),l(a).sort(Ot),localStorage.setItem(`db-${l(i).companyType}`,JSON.stringify(l(a))))};var x=kr(),M=w(x),A=g(w(M),2),C=g(w(A));pt(C,{text:"generate api key",children:(v,m)=>{var k=vr();k.__click=[cr,f],k.__keydown=[ur,f],I(v,k)}});var _=g(C,2);dt(_,{props:{placeholder:"Minimal access API key"},get value(){return l(r)},set value(v){O(r,v,!0)}}),y(A),ae(2),y(M);var c=g(M,2),h=g(w(c),2),R=g(w(h));lt(R,21,()=>Ka,ot,(v,m)=>{var k=dr(),N=w(k,!0);y(k);var E={};Y(()=>{P(N,l(m).name),E!==(E=l(m).id)&&(k.value=(k.__value=l(m).id)??"")}),I(v,k)}),y(R),y(h);var T=g(h,2),D=g(w(T));me(D);var K=g(D,2);Re(K,{class:"inline-block"}),y(T);var J=g(T,2),j=g(w(J));me(j);var W=g(j);Re(W,{class:"inline-block"}),y(J);var Q=g(J,2),Ve=g(w(Q));me(Ve),y(Q);var Je=g(Q,2),Rt=w(Je);de(Rt,{className:"text-xl",props:{type:"button",onclick:S},children:(v,m)=>{ae();var k=ve("Search");I(v,k)}}),y(Je),y(c);var Se=g(c,2),xe=w(Se),fe=g(w(xe));fe.__click=[pr,s],fe.__keydown=[hr,s];var Pt=w(fe);pt(Pt,{text:"Click to show/hide message form",children:(v,m)=>{var k=At(),N=pe(k);{var E=F=>{ir(F,{})},q=F=>{or(F,{})};he(N,F=>{l(s)?F(E):F(q,!1)})}I(v,k)}}),y(fe),y(xe);var ce=g(xe,2),qe=w(ce);dt(qe,{props:{type:"text",placeholder:"Subject - only for mails"},get value(){return n.subject},set value(v){n.subject=v}});var ke=g(qe,2);sa(ke),B(ke,"placeholder",`Write a message that you can copy later. You can use the {man}, {int}, {end} and {ee} tags,
				 which will be replaced with your real stats`),y(ce);var Ue=g(ce,2),Ye=w(Ue);de(Ye,{props:{type:"button",onclick:()=>{b(n.subject),O(p,!0)}},children:(v,m)=>{ae();var k=_r(),N=pe(k,!0),E=g(N);ht(E,{class:"ml-1 inline-block"}),Y(()=>P(N,l(p)?"Copied!":"Copy subject")),I(v,k)}});var jt=g(Ye,2);de(jt,{className:"ml-4",props:{type:"button",onclick:()=>{$(),O(u,!0)}},children:(v,m)=>{ae();var k=mr(),N=pe(k,!0),E=g(N);ht(E,{class:"ml-1 inline-block"}),Y(()=>P(N,l(u)?"Copied!":"Copy body")),I(v,k)}}),y(Ue),y(Se);var Ge=g(Se,2),Ke=g(w(Ge),2),Xe=w(Ke);{var Ht=v=>{var m=gr();I(v,m)};he(Xe,v=>{l(a).length===0&&v(Ht)})}var zt=g(Xe,2);lt(zt,17,()=>l(a),ot,(v,m)=>{var k=xr(),N=w(k),E=w(N);E.__click=[br,f,m],E.__keydown=[yr,f,m];var q=w(E),F=w(q,!0);y(q);var Bt=g(q);y(E);var We=g(E),Ft=g(We);Re(Ft,{}),y(N);var $e=g(N,2),Ae=w($e),Z=w(Ae);Z.__click=[wr,f,m],Z.__keydown=[Sr,f,m];var Vt=w(Z);y(Z);var Qe=g(Z,2),Jt=w(Qe);y(Qe),y(Ae);var Ze=g(Ae,2),Te=w(Ze),qt=w(Te);y(Te);var et=g(Te,2),Ut=g(w(et));{var Yt=H=>{var X=ve();X.nodeValue="Never",I(H,X)},Gt=H=>{var X=ve();Y(Me=>P(X,Me),[()=>new Date(l(m).lastMailed).toLocaleDateString()]),I(H,X)};he(Ut,H=>{l(m).lastMailed?H(Gt,!1):H(Yt)})}y(et),y(Ze),y($e);var Ie=g($e,2),Kt=w(Ie);y(Ie);var tt=g(Ie,2),at=g(tt,2),Xt=g(at,2);de(Xt,{props:{type:"button",onclick:()=>{d(l(m).id)}},children:(H,X)=>{ae();var Me=ve("Mark as mailed");I(H,Me)}}),y(k),Y(H=>{P(F,l(m).name),P(Bt,`#${l(m).id??""}`),P(We,` ${l(m).rating??""}`),P(Vt,`Owner: ${l(m).owner??""}`),P(Jt,`Days old: ${l(m).daysOld??""}`),P(qt,`Employees hired: ${l(m).employeesHired??""} / ${l(m).employeesCapacity??""}`),P(Kt,`Daily income: ${H??""}$`),B(tt,"href",`https://www.torn.com/joblist.php#/p=corpinfo&ID=${l(m).id}`),B(at,"href",`https://www.torn.com/messages.php#/p=compose&XID=${l(m).owner}`)},[()=>l(m).dailyIncome.toLocaleString()]),I(v,k)}),y(Ke),y(Ge),y(x),Y(()=>{B(D,"max",l(i).maxRating===0||!l(i).maxRating?10:l(i).maxRating),B(j,"min",l(i).minRating),Mt(ce,1,"ease flex flex-col overflow-hidden transition-all duration-500 "+(l(s)?"h-50":"h-0 p-0"),"svelte-1gxb7fz")}),qa(R,()=>l(i).companyType,v=>l(i).companyType=v),ge(D,()=>l(i).minRating,v=>l(i).minRating=v),ge(j,()=>l(i).maxRating,v=>l(i).maxRating=v),Ga(Ve,()=>l(i).hasEmptySlots,v=>l(i).hasEmptySlots=v),ge(ke,()=>n.body,v=>n.body=v),I(e,x),$t()}_t(["click","keydown"]);export{Mr as component};
